{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useContext, useEffect } from \"react\";\nimport socket from \"../../socket\";\nimport { AccountContext } from \"../AccountContext\";\nconst useSocketSetup = _ref => {\n  _s();\n  let {\n    setFriendList\n  } = _ref;\n  const {\n    setUser\n  } = useContext(AccountContext);\n  useEffect(() => {\n    socket.connect();\n    socket.on(\"friends\", friendList => {\n      setFriendList(friendList);\n    });\n    socket.on(\"connect_error\", () => {\n      setUser({\n        loggedIn: false\n      });\n    });\n    return () => {\n      socket.off(\"connect_error\");\n    };\n  }, [setUser]);\n};\n_s(useSocketSetup, \"BemzQuH4f11cYQSenZt5+cm7gqw=\");\nexport default useSocketSetup;","map":{"version":3,"names":["useContext","useEffect","socket","AccountContext","useSocketSetup","_ref","_s","setFriendList","setUser","connect","on","friendList","loggedIn","off"],"sources":["/Users/rgthardkor/Projects/messendger/frontend/chat_client/src/components/Home/useSocketSetup.jsx"],"sourcesContent":["import {useContext, useEffect} from \"react\";\nimport socket from \"../../socket\";\nimport {AccountContext} from \"../AccountContext\";\n\nconst useSocketSetup = ({setFriendList}) => {\n    const {setUser} = useContext(AccountContext)\n    useEffect(() => {\n        socket.connect()\n        socket.on(\"friends\", friendList => {\n            setFriendList(friendList)\n        })\n        socket.on(\"connect_error\", () => {\n            setUser({loggedIn: false})\n        })\n        return () => {\n            socket.off(\"connect_error\")\n        }\n    }, [setUser])\n}\nexport default useSocketSetup;"],"mappings":";AAAA,SAAQA,UAAU,EAAEC,SAAS,QAAO,OAAO;AAC3C,OAAOC,MAAM,MAAM,cAAc;AACjC,SAAQC,cAAc,QAAO,mBAAmB;AAEhD,MAAMC,cAAc,GAAGC,IAAA,IAAqB;EAAAC,EAAA;EAAA,IAApB;IAACC;EAAa,CAAC,GAAAF,IAAA;EACnC,MAAM;IAACG;EAAO,CAAC,GAAGR,UAAU,CAACG,cAAc,CAAC;EAC5CF,SAAS,CAAC,MAAM;IACZC,MAAM,CAACO,OAAO,EAAE;IAChBP,MAAM,CAACQ,EAAE,CAAC,SAAS,EAAEC,UAAU,IAAI;MAC/BJ,aAAa,CAACI,UAAU,CAAC;IAC7B,CAAC,CAAC;IACFT,MAAM,CAACQ,EAAE,CAAC,eAAe,EAAE,MAAM;MAC7BF,OAAO,CAAC;QAACI,QAAQ,EAAE;MAAK,CAAC,CAAC;IAC9B,CAAC,CAAC;IACF,OAAO,MAAM;MACTV,MAAM,CAACW,GAAG,CAAC,eAAe,CAAC;IAC/B,CAAC;EACL,CAAC,EAAE,CAACL,OAAO,CAAC,CAAC;AACjB,CAAC;AAAAF,EAAA,CAdKF,cAAc;AAepB,eAAeA,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}